<div align="center">

# GameFrameX

**é«˜æ€§èƒ½ã€è·¨å¹³å°çš„æ¸¸æˆæœåŠ¡å™¨æ¡†æ¶**

[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)
[![.NET](https://img.shields.io/badge/.NET-8.0-purple.svg)](https://dotnet.microsoft.com/download/dotnet/8.0)
[![Platform](https://img.shields.io/badge/platform-Windows%20%7C%20Linux%20%7C%20macOS-lightgrey.svg)]()
[![Build Status](https://img.shields.io/badge/build-passing-brightgreen.svg)]()

[English](README_EN.md) | ç®€ä½“ä¸­æ–‡

</div>

## ğŸ“– ç®€ä»‹

GameFrameX æ˜¯ä¸€ä¸ªåŸºäº C# .NET 8.0 å¼€å‘çš„é«˜æ€§èƒ½æ¸¸æˆæœåŠ¡å™¨æ¡†æ¶ï¼Œé‡‡ç”¨ Actor æ¨¡å‹è®¾è®¡ï¼Œæ”¯æŒè·¨å¹³å°éƒ¨ç½²ã€‚æ¡†æ¶å†…ç½®çƒ­æ›´æ–°æœºåˆ¶ï¼Œå¯ä»¥æ»¡è¶³ç»å¤§éƒ¨åˆ†æ¸¸æˆç±»å‹çš„éœ€æ±‚ï¼Œç‰¹åˆ«é€‚åˆä¸ Unity3D ååŒå¼€å‘ã€‚

**è®¾è®¡ç†å¿µï¼šå¤§é“è‡³ç®€ï¼Œä»¥ç®€åŒ–ç¹**

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸš€ é«˜æ€§èƒ½æ¶æ„
- **Actor æ¨¡å‹**ï¼šåŸºäº TPL DataFlow æ„å»ºçš„é«˜æ€§èƒ½ Actor ç³»ç»Ÿ
- **å…¨å¼‚æ­¥ç¼–ç¨‹**ï¼šé‡‡ç”¨ async/await æ¨¡å¼ï¼Œä»£ç æ¸…æ™°ä¼˜é›…
- **æ— é”è®¾è®¡**ï¼šé€šè¿‡ Actor æ¨¡å‹é¿å…ä¼ ç»Ÿé”æœºåˆ¶çš„æ€§èƒ½æŸè€—
- **å†…å­˜ä¼˜åŒ–**ï¼šè‡ªåŠ¨å›æ”¶ä¸æ´»è·ƒæ•°æ®ï¼Œå‡å°‘å†…å­˜å ç”¨

### ğŸ”„ çƒ­æ›´æ–°æ”¯æŒ
- **ä¸åœæœæ›´æ–°**ï¼šæ”¯æŒè¿è¡Œæ—¶çƒ­æ›´æ–°æ¸¸æˆé€»è¾‘
- **çŠ¶æ€é€»è¾‘åˆ†ç¦»**ï¼šçŠ¶æ€æŒä¹…åŒ–ï¼Œé€»è¾‘å¯çƒ­æ›´
- **å®‰å…¨å¯é **ï¼šæ›´æ–°å¤±è´¥å¯å›æ»šï¼Œä¿è¯æœåŠ¡ç¨³å®šæ€§
- **å¢é‡æ›´æ–°**ï¼šåªæ›´æ–°ä¿®æ”¹çš„éƒ¨åˆ†ï¼Œæé«˜æ›´æ–°æ•ˆç‡

### ğŸŒ ç½‘ç»œé€šä¿¡
- **å¤šåè®®æ”¯æŒ**ï¼šTCPã€UDPã€WebSocketã€HTTP
- **é«˜å¹¶å‘**ï¼šåŸºäº SuperSocket çš„å¼‚æ­¥ I/O æ¨¡å‹
- **æ¶ˆæ¯å¤„ç†**ï¼šå†…ç½®æ¶ˆæ¯åˆ†åŒ…ã€ç²˜åŒ…å¤„ç†æœºåˆ¶
- **å®‰å…¨ä¼ è¾“**ï¼šæ”¯æŒ SSL/TLS åŠ å¯†

### ğŸ’¾ æ•°æ®æŒä¹…åŒ–
- **é€æ˜æŒä¹…åŒ–**ï¼šè‡ªåŠ¨åºåˆ—åŒ–/ååºåˆ—åŒ–ï¼Œå¼€å‘è€…æ— éœ€å…³å¿ƒæ•°æ®åº“æ“ä½œ
- **NoSQL æ”¯æŒ**ï¼šé»˜è®¤ä½¿ç”¨ MongoDBï¼Œæ”¯æŒå…¶ä»– NoSQL æ•°æ®åº“
- **ç¼“å­˜æœºåˆ¶**ï¼šæ™ºèƒ½ç¼“å­˜ç­–ç•¥ï¼Œæé«˜æ•°æ®è®¿é—®æ€§èƒ½

### â° å®šæ—¶ä»»åŠ¡
- **å¤šç§å®šæ—¶å™¨**ï¼šä¸€æ¬¡æ€§ã€å‘¨æœŸæ€§ã€è®¡åˆ’ä»»åŠ¡
- **çº¿ç¨‹å®‰å…¨**ï¼šå†…ç½®çº¿ç¨‹å®‰å…¨çš„ Timer å’Œ Scheduler
- **äº‹ä»¶ç³»ç»Ÿ**ï¼šå®Œæ•´çš„äº‹ä»¶é©±åŠ¨æ¶æ„

## ğŸ—ï¸ æ¶æ„è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Client Layer                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                      Network Layer                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚     TCP     â”‚ â”‚  WebSocket  â”‚ â”‚    HTTP     â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                      Message Layer                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚              Message Handlers                           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                       Actor Layer                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚   Player    â”‚ â”‚   Server    â”‚ â”‚   Account   â”‚           â”‚
â”‚  â”‚   Actor     â”‚ â”‚   Actor     â”‚ â”‚   Actor     â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    Component Layer                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚  Component  â”‚ â”‚  Component  â”‚ â”‚  Component  â”‚           â”‚
â”‚  â”‚   + State   â”‚ â”‚   + State   â”‚ â”‚   + State   â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                     Database Layer                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                    MongoDB                              â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- [.NET 8.0 SDK](https://dotnet.microsoft.com/download/dotnet/8.0)
- [MongoDB 4.x+](https://www.mongodb.com/try/download/community)
- Visual Studio 2022 æˆ– JetBrains Rider

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**
   ```bash
   git clone https://github.com/GameFrameX/GameFrameX.git
   cd GameFrameX/Server
   ```

2. **å®‰è£…ä¾èµ–**
   ```bash
   dotnet restore
   ```

3. **é…ç½®æ•°æ®åº“**
   - å¯åŠ¨ MongoDB æœåŠ¡
   - ä¿®æ”¹é…ç½®æ–‡ä»¶ä¸­çš„æ•°æ®åº“è¿æ¥å­—ç¬¦ä¸²

4. **ç¼–è¯‘è¿è¡Œ**
   ```bash
   dotnet build
   dotnet run --project GameFrameX.Launcher
   ```

5. **éªŒè¯è¿è¡Œ**
   - æ‰“å¼€ Unity å·¥ç¨‹
   - è¿è¡Œ Launcher åœºæ™¯
   - æŸ¥çœ‹æ§åˆ¶å°æ—¥å¿—ç¡®è®¤è¿æ¥æˆåŠŸ

## ğŸ“ é¡¹ç›®ç»“æ„

```
GameFrameX.Server/
â”œâ”€â”€ GameFrameX.Apps/              # åº”ç”¨å±‚ï¼ˆçŠ¶æ€æ•°æ®ï¼‰
â”‚   â”œâ”€â”€ Account/                  # è´¦å·æ¨¡å—
â”‚   â”œâ”€â”€ Player/                   # ç©å®¶æ¨¡å—
â”‚   â””â”€â”€ Server/                   # æœåŠ¡å™¨æ¨¡å—
â”œâ”€â”€ GameFrameX.Hotfix/            # çƒ­æ›´æ–°å±‚ï¼ˆä¸šåŠ¡é€»è¾‘ï¼‰
â”‚   â”œâ”€â”€ Logic/                    # ä¸šåŠ¡é€»è¾‘
â”‚   â””â”€â”€ StartUp/                  # å¯åŠ¨é€»è¾‘
â”œâ”€â”€ GameFrameX.Core/              # æ ¸å¿ƒæ¡†æ¶
â”‚   â”œâ”€â”€ Actors/                   # Actor ç³»ç»Ÿ
â”‚   â”œâ”€â”€ Components/               # ç»„ä»¶ç³»ç»Ÿ
â”‚   â””â”€â”€ Events/                   # äº‹ä»¶ç³»ç»Ÿ
â”œâ”€â”€ GameFrameX.NetWork/           # ç½‘ç»œæ¨¡å—
â”œâ”€â”€ GameFrameX.DataBase/          # æ•°æ®åº“æ¨¡å—
â”œâ”€â”€ GameFrameX.Config/            # é…ç½®æ¨¡å—
â””â”€â”€ GameFrameX.Launcher/          # å¯åŠ¨å™¨
```

## ğŸ”§ æ ¸å¿ƒæ¦‚å¿µ

### Entity-Component-State æ¶æ„

- **Entity**ï¼šæ¸¸æˆå®ä½“ï¼ˆç©å®¶ã€å…¬ä¼šã€ç³»ç»Ÿç­‰ï¼‰
- **Component**ï¼šåŠŸèƒ½ç»„ä»¶ï¼ˆèƒŒåŒ…ã€ä»»åŠ¡ã€æˆ˜æ–—ç­‰ï¼‰
- **State**ï¼šçŠ¶æ€æ•°æ®ï¼ˆç»„ä»¶çš„æŒä¹…åŒ–æ•°æ®ï¼‰

### Actor æ¨¡å‹

æ¯ä¸ª Entity éƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„ Actorï¼Œæ‰€æœ‰å¯¹ Entity çš„æ“ä½œéƒ½é€šè¿‡ Actor è¿›è¡Œï¼Œä¿è¯çº¿ç¨‹å®‰å…¨ï¼š

```csharp
// è·å–ç©å®¶ç»„ä»¶ä»£ç†
var playerAgent = await ActorManager.GetComponentAgent<PlayerComponentAgent>(playerId);

// è°ƒç”¨ç»„ä»¶æ–¹æ³•ï¼ˆè‡ªåŠ¨å…¥é˜Ÿï¼Œçº¿ç¨‹å®‰å…¨ï¼‰
var result = await playerAgent.AddExp(1000);
```

### çƒ­æ›´æ–°æœºåˆ¶

- **Apps å·¥ç¨‹**ï¼šåŒ…å«çŠ¶æ€æ•°æ®ï¼Œä¸å¯çƒ­æ›´
- **Hotfix å·¥ç¨‹**ï¼šåŒ…å«ä¸šåŠ¡é€»è¾‘ï¼Œæ”¯æŒçƒ­æ›´
- **ä»£ç†æ¨¡å¼**ï¼šé€šè¿‡ Agent ä»£ç†å®ç°é€»è¾‘ä¸çŠ¶æ€åˆ†ç¦»

## ğŸ“š å¼€å‘æŒ‡å—

### åˆ›å»ºæ–°çš„æ¸¸æˆæ¨¡å—

1. **å®šä¹‰çŠ¶æ€ç±»**ï¼ˆApps å·¥ç¨‹ï¼‰
   ```csharp
   public class BagState : StateBase
   {
       public List<Item> Items { get; set; } = new();
       public int MaxSlots { get; set; } = 100;
   }
   ```

2. **åˆ›å»ºç»„ä»¶ç±»**ï¼ˆApps å·¥ç¨‹ï¼‰
   ```csharp
   public class BagComponent : StateComponent<BagState>
   {
       // ç»„ä»¶åˆå§‹åŒ–é€»è¾‘
   }
   ```

3. **å®ç°ä¸šåŠ¡é€»è¾‘**ï¼ˆHotfix å·¥ç¨‹ï¼‰
   ```csharp
   public class BagComponentAgent : StateComponentAgent<BagComponent, BagState>
   {
       public async Task<bool> AddItem(int itemId, int count)
       {
           // ä¸šåŠ¡é€»è¾‘å®ç°
           return true;
       }
   }
   ```

### æ¶ˆæ¯å¤„ç†

```csharp
[MessageMapping(typeof(ReqLogin))]
public class LoginHandler : BaseMessageHandler
{
    public override async Task<MessageObject> Action(MessageObject message)
    {
        var request = (ReqLogin)message;
        // å¤„ç†ç™»å½•é€»è¾‘
        return new RespLogin { Success = true };
    }
}
```

## ğŸ” æ€§èƒ½ä¼˜åŒ–

### Actor è®¾è®¡åŸåˆ™

1. **ç‹¬ç«‹æ€§**ï¼šå°½å¯èƒ½å‡å°‘ Actor é—´çš„ä¾èµ–
2. **ç²’åº¦æ§åˆ¶**ï¼šåˆç†æ‹†åˆ† Actorï¼Œé¿å…è¿‡åº¦ç»†åˆ†
3. **é¿å…æ­»é”**ï¼šéµå¾ªå±‚çº§è°ƒç”¨åŸåˆ™ï¼ˆä½å±‚çº§è°ƒç”¨é«˜å±‚çº§ï¼‰

### å†…å­˜ç®¡ç†

- è‡ªåŠ¨å›æ”¶ä¸æ´»è·ƒçš„ç©å®¶æ•°æ®
- ä½¿ç”¨å¯¹è±¡æ± å‡å°‘ GC å‹åŠ›
- åˆç†è®¾ç½®ç¼“å­˜ç­–ç•¥

## ğŸ› ï¸ éƒ¨ç½²æŒ‡å—

### Docker éƒ¨ç½²

```bash
# æ„å»ºé•œåƒ
docker build -t gameframex .

# è¿è¡Œå®¹å™¨
docker run -d -p 8080:8080 gameframex
```

### ç”Ÿäº§ç¯å¢ƒé…ç½®

1. **æ•°æ®åº“é…ç½®**ï¼šé…ç½® MongoDB é›†ç¾¤
2. **è´Ÿè½½å‡è¡¡**ï¼šä½¿ç”¨ Nginx æˆ– HAProxy
3. **ç›‘æ§å‘Šè­¦**ï¼šé›†æˆ Prometheus + Grafana
4. **æ—¥å¿—æ”¶é›†**ï¼šä½¿ç”¨ ELK æˆ–ç±»ä¼¼æ–¹æ¡ˆ

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ï¼

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»º Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ Apache License 2.0 è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ”— ç›¸å…³é“¾æ¥

- [ğŸ“– è¯¦ç»†æ–‡æ¡£](https://gameframex.doc.alianblank.com)
- [ğŸ¥ è§†é¢‘æ•™ç¨‹](https://www.bilibili.com/video/BV1yrpeepEn7)
- [ğŸ  é¡¹ç›®ä¸»é¡µ](https://github.com/GameFrameX)
- [ğŸ’¬ ç¤¾åŒºè®¨è®º](https://github.com/GameFrameX/GameFrameX/discussions)

## ğŸ™ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰ä¸º GameFrameX åšå‡ºè´¡çŒ®çš„å¼€å‘è€…ä»¬ï¼

---

<div align="center">

**å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ª â­**

</div>
